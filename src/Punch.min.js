(function(){"use strict";var a=/^(\s*)([A-Za-z0-9\*]*)(\s*)(>\s*|~\s*|\+\s*|#[\w\u00c0-\uFFFF\-]+|\[[^\]]+\]{1}|:[\w\-]+\({1}[^\)]+\){1}|:[\w\-]+|\.[\w\u00c0-\uFFFF\-]+|){1}(.*)$/,b=/^(?:\[){1}([\w\.\:]*)(\||\!|\~|\^|\*|\$|\=|){1}(?:\=)?("|\')?([^\]]*)/,c=/(?:#){1}([^\s]*)/,d=/(?:[>\s]*)(.*)/,f=/(?:[\+\s]*)(.*)/,g=/(?:[~\s]*)(.*)/,h=/(?:[\.]{1})(.*)/,i=/^(?:\:){1}([^\(]*)(?:\(?)([^\)]*)/,j=/(?:\s*)(\-?)(odd|even|[\d]*){1}(n?)(?:\s*)([\-+]?)(?:\s*)([\d]*)/,k=/^([\.\[#\:]?)(.*)/,l=/[\n\t\r]/g,m=/^\s*\-?\d*\s*$/,n=/^\s+|\s+$/g,o=/\s/,p=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(n,"")},q=Array.prototype.slice,r=Array.isArray?Array.isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},s,t=function(){throw s+(e?e:" - is invalid sytax.")},u=function(a,b){b=b||document;var c=[],d,e;if(b.nodeType!==1&&b.nodeType!==9)return c;if(!a||typeof a!="string")return c;a=a.indexOf(")")>-1?v(a):a.split(","),r(b)||(b=[b]);try{for(d=a.length,e=0;e<d;e++)c=c.concat(w(a[e],b))}catch(f){t(f)}return L(c)},v=function(a,b,c){b=b||0,c=c||[];var d=a.indexOf("(",b),e=a.indexOf(")",b),f=a.indexOf(",",b);return f===-1?(a.length>0&&c.push(a),c):f<d&&(f>e||e>d)||e===-1?(c.push(a.slice(0,f)),v(a.slice(f+1),0,c)):v(a,e+1,c)},w=function(b,c){var d=b,e=[],f=!0,g=0,h,i,j,k,l,m;do{g++;if(g>100)throw" - created an indefinite loop.";m=a.exec(d),s=m[0],j=m[2],k=f||k?!0:m[1].length>0,l=m[4],d=m[5],f=!1;if(j.length>0){if(!k){j=m[2].toUpperCase();for(h=c.length,i=0;i<h;i++)(c[i].nodeName===j||j==="*")&&e.push(c[i])}else for(h=c.length,i=0;i<h;i++)e=e.concat(q.call(c[i].getElementsByTagName(j)));c=e,e=[],k=m[3].length>0}l.length>0&&(c=e.concat(x[l.charAt(0)](l,c,k)),k=!1,e=[])}while(d);return c},x={"[":function(a,c,d){a=b.exec(a),c=d?A(c):c;var e=a[1],f=a[2]?a[2]:" ",g=a[3],h=a[4],i=[],j=c.length,k,l;if(g||o.test(h)){if(!g||g!==h.slice(-1))throw" - invalid attribute syntax";h=h.slice(0,-1)}k=y[f](h);while(j--)l=c[j].getAttribute(e),l&&k(l)&&i.unshift(c[j]);return i},"#":function(a,b,d){a=c.exec(a),b=d?A(b):b;var e=[],f=b.length,g=a[1];while(f--)b[f].id===g&&e.unshift(b[f]);return e},">":function(a,b){a=d.exec(a);var c=[];for(var e=b.length,f=0;f<e;f++)c=c.concat(F(b[f]));return c},"+":function(a,b){a=f.exec(a);var c=[],d=b.length,e;while(d--)e=E(b[d]),e!==null&&c.unshift(e);return c},"~":function(a,b){a=g.exec(a);var c=[];for(var d=b.length,e=0;e<d;e++)c=c.concat(G(b[e]));return c},".":function(a,b,c){a=h.exec(a),b=c?A(b):b;var d=[],e=b.length,f=I(a[1]);while(e--)f(b[e])&&d.unshift(b[e]);return d},":":function(a,b,c){a=i.exec(a),b=c?A(b):b;var d=b.length,e=a[1],f=a[2],g=[],h=z[e](f);while(d--)h(b[d],d)&&g.unshift(b[d]);return g}},y={"|":function(a){var b=a;return function(a){return a.split("-")[0]===b}},"*":function(a){var b=a;return function(b){return b.indexOf(a)>-1}},"~":function(a){var b=" "+a+" ";return function(a){return(" "+a+" ").replace(l," ").indexOf(b)>-1}},"!":function(a){var b=a;return function(a){return b!==a}},$:function(a){var b=new RegExp(a+"$");return function(a){return b.test(a)}},"^":function(a){var b=new RegExp("^"+a);return function(a){return b.test(a)}},"=":function(a){var b=a;return function(a){return b===a}}," ":function(){return function(a){return a}}},z={"nth-child":function(a){return C(a,function(a,b,c){return c?function(c){var d=F(c.parentNode),e=d.length,f;while(e--&&d[e]!==c);return e++,a===0?e-b===0?!0:!1:(f=(e-b)/a,f>=0&&f%1===0)}:(a--,function(b){return F(b.parentNode)[a]===b})})},"nth-last-child":function(a){return C(a,function(a,b,c){return function(d){var e=F(d.parentNode),f=e.length,g=f,h;while(g--&&e[g]!==d);return g=f-g,c?a===0?g-b===0?!0:!1:(h=(g-b)/a,h>=0&&h%1===0):g===a}})},nth:function(a){return C(a,function(a,b,c){return function(d,e){var f;return e++,c?a===0?e-b===0?!0:!1:(f=(e-b)/a,f>=0&&f%1===0):a-1===e}})},"nth-of-type":function(a){return C(a,function(a,b,c){return function(d){var e=F(d.parenNode),f=e.length,g=d.nodeName,h=0;count=0,tmp;while(h<f){g===e[h].nodeName&&count++;if(d===e[h])break}return c?a===0?count-b===0?!0:!1:(tmp=(count-b)/a,tmp>=0&&tmp%1===0):a-1===count}})},"first-child":function(){return function(a){return a===F(a.parentNode)[0]}},"last-child":function(){return function(a){var b=F(a.parentNode);return a===b[b.length-1]}},checked:function(){return function(a){return a.checked}},not:function(a){return a=a.split(","),function(b){var c=!1,d=a.length-1;while(c=!B(b,a[d]),c&&d--);return c}},disabled:function(){return function(a){return a.disabled&&a.type!=="hidden"}},enabled:function(){return function(a){return!a.disabled}},selected:function(){return function(a){return a.selected}},link:function(){return function(a){return a.href}},empty:function(){return function(a){return!a.firstChild}},root:function(){return function(a){return a.parentNode===window.document}}},A=function(a){var b=[];for(var c=a.length,d=0;d<c;d++)b=b.concat(q.call(a[d].getElementsByTagName("*")));return b},B=function(a,b){b=b.split(",");var c=b.length,d=!0,e;while(c--){e=k.exec(b[c]);switch(e[1]){case".":d=I(e[2])(a);break;case"#":d=a.id===e[2];break;case"[":d=x["["]("["+e[2],[a],!1).length>0;break;case":":d=x[":"](":"+e[2],[a],!1).length>0;break;default:d=a.nodeName===p(b[c]).toUpperCase()}if(!d)break}return d},C=function(a,b){a=j.exec(a);var c=a[2]!==""?a[2]:1,d=a[3]?!0:!1,e=a[5]?a[4]+a[5]:"0";return m.test(c)||(e=c==="even"?"0":"1",c="2",d=!0),c=parseInt(a[1]+c,10),e=parseInt(e,10),b(c,e,d)},D,E=(D=document.createElement("div"),D.innerHTML="<i></i><span></span>",D=D.getElementsByTagName("i")[0],D.nextElementSibling)?function(a){return a.nextElementSibling}:function(a){return a.nextSibling.nodeType===1||a.nextSibling===null?a.nextSibling:E(a.nextSibling)},F=(D=document.createElement("div"),D.innerHTML="<i></i><!--a--><span></span>",D.children[1].nodeType===1)?function(a){return q.call(a.children)}:function(a){var b=a.children,c=b.length,d=[];while(c--)b[c].nodeType!==8&&d.unshift(b[c]);return d},G=function(a){var b=[],c;while(c=E(a),c)b.push(c),a=c;return b},H=(D=document.createElement("div"),D.innerHTML='<i class="foo"></i>',D.getElementsByClassName("foo"))?function(a,b){return q.call(a.getElementsByClassName(b))}:function(a,b){b=" "+b+" ";var c=q.call(a.getElementsByTagName("*")),d=c.length,e=[];while(d--)(" "+c[d].className+" ").replace(l," ").indexOf(b)>-1&&e.unshift(c[d]);return e},I=function(a){var b=" "+a+" ";return function(a){return(" "+a.className+" ").replace(l," ").indexOf(b)>-1}},J=document.documentElement.compareDocumentPosition?function(a,b){return a===b?(K=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a===b)return K=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex},K=!1,L=function(a){K=!1,a=a.sort(J);if(K){var b=[];for(var c=a.length,d=0;d<c;d++)a[d]!==a[d+1]&&b.push(a[d]);return b}return a};window.Punch=u})()